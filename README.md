# CMSC818J Assignment 2 - HPCG Benchmark

This is a benchmark that could be used to complete Assignment 2. This benchmark tests the performance of a sparse scientific computing workload called the Conjugate Gradient Method. While it is not necessary to understand the kernel, you can learn more about it [here](https://en.wikipedia.org/wiki/Conjugate_gradient_method).

## Building the Benchmark
First, login to junkfood, and clone this repository:
```bash
ssh <username>@junkfood.cs.umd.edu
git clone git@github.com:ryansynk/cmsc818j_fall2023_Assignment2_hpcg.git
```
Perform the following commands to build the benchmark itself:
```bash
cd cmsc818j_fall2023_Assignment2_hpcg
mkdir build
cd build
../configure Linux_Serial
make
```
If this succeeds, there should now be a directory in `build`, called `bin`. Inside the `bin` directory there will be an executable,
`xhpcg`. Run the executable with perf:
```bash
cd bin
perf stat ./xhpcg
```
This will run for around a minute. It shouldn't produce any output until it completes. When the program is finished executing, you should see a printout from `perf`. Additionally, there will be a `.txt` file containing more information generated by the benchmark.

Check out more background information on the benchmark below:

## High Performance Conjugate Gradient Benchmark (HPCG)

Jack Dongarra and Michael Heroux and Piotr Luszczek

Revision: 3.1

Date: March 28, 2019

### Background 

HPCG is a software package that performs a fixed number of multigrid preconditioned
(using a symmetric Gauss-Seidel smoother) conjugate gradient (PCG) iterations using double
precision (64 bit) floating point values.

The HPCG rating is is a weighted GFLOP/s (billion floating operations per second) value
that is composed of the operations performed in the PCG iteration phase over
the time taken.  The overhead time of problem construction and any modifications to improve
performance are divided by 500 iterations (the amortization weight) and added to the runtime.

Integer arrays have global and local
scope (global indices are unique across the entire distributed memory system,
local indices are unique within a memory image).  Integer data for global/local
indices have three modes:

* 32/32 - global and local integers are 32-bit
* 64/32 - global integers are 64-bit, local are 32-bit
* 64/64 - global and local are 64-bit.

These various modes are required in order to address sufficiently big problems
if the range of indexing goes above 2^31 (roughly 2.1B), or to conserve storage
costs if the range of indexing is less than 2^31.

The  HPCG  software  package requires the availibility on your system of an
implementation of the  Message Passing Interface (MPI) if enabling the MPI
build of HPCG, and a compiler that supports OpenMP syntax. An implementation
compliant with MPI version 1.1 is sufficient.

### Further information

Check out  the website  http://www.hpcg-benchmark.org/ for the latest
information and performance results.
